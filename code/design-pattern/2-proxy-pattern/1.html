<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>图片预加载</title>
</head>

<body>
  <script>
    var myImage = (function () {
      var imageNode = document.createElement('img')
      document.body.appendChild(imageNode)

      var image = new Image()
      image.onload = function () {
        imageNode.src = image.src
      }

      return {
        setSrc: function (src) {
          imageNode.src = './assets/loading.png'
          image.src = src
        }
      }
    })()
  </script>
  <script>
    myImage.setSrc('https://images.pexels.com/photos/1382732/pexels-photo-1382732.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')
  </script>
</body>

</html>
